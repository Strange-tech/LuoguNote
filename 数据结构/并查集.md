# 并查集
并查集组织了一系列帮派。帮派的关系符合传递率：A与B有关系，B和C有同样的关系，那么ABC三人就是同一帮派。并查集采用树形结构存储，设定帮派“大哥”为根节点，为了避免树过深，理想状态下的并查集树只有两层，任何小弟都可以在$O(1)$的时间内找到大哥。
并查集支持两种操作：合并（Union）和查询（Find），代码如下：
```c++
//初始化
void Init() {
    for(int i=1;i<=n;i++) {
        fa[i]=i;
    }
}
//Find函数以经过路径压缩，返回x的大哥
int Find(int x) {
    return x==fa[x]?x:(fa[x]=Find(fa[x]));
}
//帮派合并的本质是合并“大哥”，这里将i的大哥合并到j的大哥里
void Union(int i, int j) {
    fa[Find[i]]=Find[j];
}
```