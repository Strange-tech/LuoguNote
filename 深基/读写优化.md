# 读写优化
对于大量输入数据的样例，选择更快的输入方式会减少不必要的运行时间，获得更高的效率。接下来介绍的输入方式，从上到下运行效率逐个递增。
## 1.cin
cin为c++特有输入方式，工作时把要输入的内容先存放到缓冲区，cout同理。为了兼容c，cin、cout和scanf、printf的输入输出流绑定，绑定的好处在于可以混用这两种语言的输入输出，缺点就是时间成本高。如果能保证书写程序时仅用cin和cout，可以通过下面的优化加快速度。
```c++
int a;
cin>>a;
```
## 2.cin优化
```c++
std::ios::sync_with_stdio(false);
cin.tie(0); // 这个没试过，不知道效果怎么样
```
上面提到的优化，便是取消输入输出流的绑定（false
参数），这样再使用cin，效率和scanf无异。
## 3.scanf
```c++
int a;
scanf("%d",&a);
```
c语言标准写法，大规模下速度比传统cin快十倍左右。
## 4.快读
快读是实现读入单个字符转换为整型数的函数来提升读入速度。以下函数实现int的读入。
```c++
inline int read(){
    int x=0,f=1;
    char ch=getchar();
    // 如果输入的不是数字，不断读入。是负号记录一下，其他异常字符自动忽略
    while(ch<'0'||ch>'9'){
        if(ch=='-')
            f=-1;
        ch=getchar();
    }
    // 读入数字，计算数值
    while(ch>='0'&&ch<='9'){
        x=(x<<1)+(x<<3)+(ch^48);
        // 等同于x=x*10+ch-'0';
        ch=getchar();
    }
    return x*f;
}
```
大多数可以使用`int a; cin>>a;`的情况下，都可以用`int a; a=read();`替代之，速度比scanf还要快若干倍。
## 5.骗分技巧
我们可以在for语句中添加`(double)clock()/CLOCKS_PER_SEC<=0.95`来让程序在跑完0.95s之后直接退出循环然后输出此时的最优解。
